# Code Review – Builder Locale Regression

## Summary
- Текущая реализация в `src/Forms/Components/LanguageTabs.php` почти устраняет изначальный баг, но сохраняет критичную регрессию: при переключении между локалями Builder показывает «пустой редактор» вместо пустого списка блоков.
- Причина — в `prepareBuilderForLocale()` (и аналогичной ветке для Repeater) состояние компонента не сбрасывается, когда у выбранной локали нет данных. В таком случае Builder сохраняет предыдущий массив блоков, поэтому визуально остаётся тот же блок, но его поля обнуляются.
- Поведение воспроизводится и объясняет отзыв: «при переключении вижу пустой редактор (раньше просто был пустой builder)».

## Что нужно поправить
- В обработчиках `afterStateHydrated` для Builder и Repeater явно устанавливать пустой массив:
  ```php
  $component->state(is_array($localeData) ? $localeData : []);
  ```
  Это приведёт к корректному отображению («Добавить блок») при отсутствии локализованных данных и устранит «висящий пустой редактор».

## Остальные изменения
- Сохранение исходных хуков Filament, обновление `refreshFormData` и кеширование Reflection сделаны хорошо, откатывать их не нужно.
