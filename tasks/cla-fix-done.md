## CLA Fix Implementation Report

- пересобрал `LanguageTabs` так, чтобы Builder и Repeater обрабатывались отдельно: клон компонента теперь отдаётся в `prepareBuilderForLocale()` / `prepareRepeaterForLocale()` и сохраняет штатные Filament-хуки через `getExistingHydrationHook()`;
- кеш обработки компонентов теперь instance-based с очисткой в `render()`, поэтому замыкания не дублируются и нет коллизий между параллельными запросами;
- поправил `prepareFieldForLocale()` — теперь он обновляет оба пути `attribute.locale` и `attribute`, благодаря чему индикаторы заполнения синхронизируются с локализованным state;
- нормализация состояний и refresh пагинаций выполняются только после вызова нативных хуков, что сохраняет UUID-логику Builder/Repeater и предотвращает потерю элементов;
- учёл критику из `tasks/cla-review.md`: ослабил сравнение массивов до `!=`, расширил сигнатуры до `Component` и добавил кеш рефлексии для повторного использования `ReflectionProperty`.
- убран фолбэк к пустому массиву для Builder/Repeater — когда данных нет, сохраняем `null`, чтобы не вычищать существующие значения при переключении локали.

### Проверка

- прошёлся по коду Filament 4.x (`Builder::setUp`, `Repeater::setUp`) и убедился, что новый механизм сперва передаёт управление нативным хукам, а затем выполняет локализационную синхронизацию;
- проверил соответствие чеклисту из `tasks/cla-fix.md`: добавлены отдельные методы, кеш обработанных компонентов, обновление обоих путей при `refreshFormData`, дополнительный вызов `render()` для сброса состояния;
- тесты не запускались по требованию заказчика; выводы основаны на статическом анализе кода и ожиданиях Livewire/Filament жизненного цикла.
